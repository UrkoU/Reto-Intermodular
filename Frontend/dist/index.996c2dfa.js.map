{"mappings":"AAKgBA,EAAA,aAAAC,GAAA,QAAAC,eAEhB,IAAAC,QAAM,SAGJC,WAA0B,oCACtBF,gBACJ,IAAIG,EAAML,EAAA,cAAeM,MACvBC,EAAIP,EAAA,cAAmBM,MACX,GAAZD,EAAAG,QAAgC,GAAZD,EAAMC,QACdC,SAAMJ,EAAAE,GAChBG,MAASC,MAAOC,IAChBT,QAAAS,EACAC,OAAAD,EAAaE,MACbC,aAAaC,QAAQ,YAAW,GAChCD,aAASC,QAAA,SAAAC,UAAAJ,SACVE,aAAAC,QAAA,UAAAC,UAAAC,KAAAC,UAAAhB,WACFiB,wBAKDC,SACAN,aAAaC,QAAQ,SAAS,IAAkBD,aAACC,QAAA,YAAA,GACjDD,aAAaC,QAAQ,UAAeE,KAAAC,UAAG,KAExCJ,aAAAC,QAAA,gBAAA,kBAID,SAACC,UAAAK,UAEQC,SAAAC,IAAaC,QAAUH,EAAAlB,YAAAsB,WAEhC,SAACC,aAAAL","sources":["scripts/login.js"],"sourcesContent":["/**\r\n * Funciones del login, para iniciar sesiÃ³n, cerrar, encriptar y desencriptar\r\n */\r\n\r\n$(\"#btnLogin\").on(\"click\", IniciarSesion);\r\nlet usuario = {};\r\n\r\nconst passPhrase = \"fjosiddnkadbalseelfeaono\";\r\n\r\nfunction IniciarSesion() {\r\n  let sUser = $(\"#inputUser\").val();\r\n  let sPass = $(\"#inputPass\").val();\r\n  if (sUser.length != 0 && sPass.length != 0) {\r\n    var promesa = LoginApi(sUser, sPass);\r\n    promesa.then(async (result) => {\r\n      usuario = result;\r\n      sToken = result.token;\r\n      localStorage.setItem(\"logueado\", true);\r\n      localStorage.setItem(\"sToken\", Encriptar(sToken));\r\n      localStorage.setItem(\"usuario\", Encriptar(JSON.stringify(usuario)));\r\n      PostLogin();\r\n    });\r\n  }\r\n}\r\n\r\nfunction Logout() {\r\n  localStorage.setItem(\"sToken\", \"\");\r\n  localStorage.setItem(\"logueado\", false);\r\n  localStorage.setItem(\"usuario\", JSON.stringify({}));\r\n  localStorage.setItem(\"iMaxGuardados\", 5);\r\n  MostrarLogin();\r\n}\r\n\r\nfunction Encriptar(message) {\r\n  return CryptoJS.AES.encrypt(message, passPhrase).toString();\r\n}\r\n\r\nfunction Desencriptar(message) {\r\n  return CryptoJS.AES.decrypt(message, passPhrase).toString(CryptoJS.enc.Utf8);\r\n}\r\n"],"names":["$","on","IniciarSesion","usuario","passPhrase","sUser","val","sPass","length","LoginApi","then","async","result","sToken","token","localStorage","setItem","Encriptar","JSON","stringify","PostLogin","Logout","message","CryptoJS","AES","encrypt","toString","Desencriptar"],"version":3,"file":"index.996c2dfa.js.map"}