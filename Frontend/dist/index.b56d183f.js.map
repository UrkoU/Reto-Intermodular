{"mappings":"SAOEA,qBAEAC,gBAAYC,aAAaC,QAAkB,mBAAgB,QAE3DC,iBAASF,aAA8BC,QAAA,qBAAS,OAChDE,UAAiD,SAApCH,aAAaC,QAAC,cAAiC,EAAA,IAACG,EAAAJ,aAAAC,QAAA,YAAA,KAEzDI,QAAJD,EAAYE,KAAAC,MAAaC,aAAgBJ,IAAS,GAGlD,IAAAK,EAAAT,aAAgBC,QAAa,WAAuB,KACrDS,OAAAD,EAAAD,aAAAC,GAAA,GAEwDE,cAAAX,aAAAC,QAAA,kBAAA,WAGrDW,kBAAmBC,GACrBA,EAACC,SAAAC,IACFC,mBAAAD,EAAAE,UAAAF,eAKKG,oBAEQC,mBAAMd,QAAAe,IACjBC,MAAAC,IACFA,sCAKA,OAAAC,WAAAC,MAAAC,GAAAA,EAAAC,eAAAC,sCAKA,OAAAJ,WAAAK,WAAAH,GAAAA,EAAAC,eAAAC,aAKCE,0BACMC,IAAA,+BACGhB,SAAMC,IACDgB,UAAUhB,EAAKW,cACzBL,MAAA,SAAgBW,GACjBC,QAAA3B,KAAAC,MAAAyB,GACFE,gBAAAD,oBAMDE,UAAWC,aAAQ,SAAWC,GAC9B,IAAEC,EAAQC,EAAIC,EAACC,EAAQC,EAAMC,EAAAC,EAASC,EAAGC,EAAIC,EAAIC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,SACjDpB,IAAOD,EAAOsB,KAACC,eAAA,IAAAC,OAAA,MAASnB,EAAAiB,KAAAG,WAAA,GAAA,GAAA,IAAApB,EAAAA,KAAYH,EAAA,CAAE,UAAS,WAAS,QAAO,QAAQ,MAAQ,OAAU,OAAa,SAAW,YAAY,UAC1H,WAED,YACFG,EAAG,IAAIqB,UAAQ,EAAA,MAAQjB,EAAAa,KAAAK,WAAA,GAAA,IAAAlB,EAAAA,KAAUH,EAAA,CAAE,SAAW,SAAa,UAAY,YAAU,WAAY,SAC3F,YACFgB,KAAAM,WAAeF,UACZ,EAAA,GAWHL,EAAIZ,GAAM,IAAKA,GAAA,GAAQ,KAAA,IAAAW,EAAAX,EAAA,IAAA,KAAA,GAAAW,EAAA,KAAA,GAAAA,EAAA,KAAA,KACvBrB,EAAaA,EAAK8B,QAAA,SAAA7B,GAAA6B,QAAA,OAAA5B,GAAA4B,QAAA,SAAA3B,GAAA2B,QAAA,QAAA1B,GAAA0B,QAAA,OAAAzB,GAAAyB,QAAA,MAAAxB,GAAAwB,QAAA,SAAAvB,GAAAuB,QAAA,QAAAtB,GAAAsB,QAAA,OAAArB,GAAAqB,QAAA,MAAApB,GAAAoB,QAAA,OAAAR,GAET,IADTR,EAAIF,EAAMW,KAAGQ,cACFjB,EAAM,IACbA,EAAG,KAAGA,GAAK,IACfD,EAAIC,EAAI,GAAI,IAAMA,EAAKA,EACvBH,EAAOC,EAAG,GAAK,IAAAA,EAAUA,EACzBQ,GAAOD,EAAQP,EAAA,GAAU,KAAQ,MAAMoB,cACvCjB,GAAMC,EAACO,KAAAU,cACY,GAAA,IAAMjB,EACtBA,EASJC,GAAAC,EAAAK,KAAAW,cAAA,GAAA,IAAAhB,EAAAA","sources":["scripts/generalHelper.js"],"sourcesContent":["/**\r\n * Funciones generales del proyecto\r\n */\r\n\r\n// Devuelve el contenido del local storage\r\nfunction CargarLocalStorage() {\r\n  sColorPrincipal = localStorage.getItem(\"sColorPrimario\") || \"green\";\r\n  sColorSecundario = localStorage.getItem(\"sColorSecundario\") || \"blue\";\r\n\r\n  bLogueado = localStorage.getItem(\"logueado\") === \"true\" || false;\r\n\r\n  var us = localStorage.getItem(\"usuario\") || null;\r\n  us ? (usuario = JSON.parse(Desencriptar(us))) : (usuario = {});\r\n\r\n  var token = localStorage.getItem(\"sToken\") || null;\r\n  token ? (sToken = Desencriptar(token)) : (sToken = \"\");\r\n\r\n  iMaxGuardados = localStorage.getItem(\"iMaxGuardados\") || 5;\r\n}\r\n\r\n// Guarda los marcadores en bbdd escogidos por el usuario\r\nfunction GuardarMarcadores(marcadores) {\r\n  marcadores.forEach((element) => {\r\n    PutOpcionesUsuario(element.usuarioId, element);\r\n  });\r\n}\r\n\r\n// Obtiene los marcadores de bbdd\r\nfunction ObtenerMarcadores() {\r\n  var marcadores;\r\n  var promesa = GetOpcionesUsuario(usuario.id);\r\n  promesa.then((res) => {\r\n    marcadores = res;\r\n  });\r\n}\r\n\r\n// Entre los guardados, devuelve el escogido\r\nfunction ObtenerGuardadoPorId(codigo) {\r\n  return aGuardados.find((e) => e.codigoBaliza === codigo);\r\n}\r\n\r\n// Entre los guardados, devuelve el Ã­ndice del escogido\r\nfunction ObtenerIndiceGuardado(codigo) {\r\n  return aGuardados.findIndex((e) => e.codigoBaliza === codigo);\r\n}\r\n\r\n// Actualiza los datos\r\nfunction ActualizarDatos() {\r\n  console.log(\"Actualizar datos\");\r\n  aGuardados.forEach((element) => {\r\n    var promise = GetTiempo(element.codigoBaliza);\r\n    promise.then(function (data) {\r\n      oTiempo = JSON.parse(data);\r\n      ActualizarCarta(oTiempo);\r\n    });\r\n  });\r\n}\r\n\r\n// Devuelve la fecha en el formato deseado\r\nDate.prototype.customFormat = function (formatString) {\r\n  var YYYY, YY, MMMM, MMM, MM, M, DDDD, DDD, DD, D, hhhh, hhh, hh, h, mm, m, ss, s, ampm, AMPM, dMod, th;\r\n  YY = ((YYYY = this.getFullYear()) + \"\").slice(-2);\r\n  MM = (M = this.getMonth() + 1) < 10 ? \"0\" + M : M;\r\n  MMM = (MMMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"][\r\n    M - 1\r\n  ]).substring(0, 3);\r\n  DD = (D = this.getDate()) < 10 ? \"0\" + D : D;\r\n  DDD = (DDDD = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"][this.getDay()]).substring(0, 3);\r\n  th = D >= 10 && D <= 20 ? \"th\" : (dMod = D % 10) == 1 ? \"st\" : dMod == 2 ? \"nd\" : dMod == 3 ? \"rd\" : \"th\";\r\n  formatString = formatString\r\n    .replace(\"#YYYY#\", YYYY)\r\n    .replace(\"#YY#\", YY)\r\n    .replace(\"#MMMM#\", MMMM)\r\n    .replace(\"#MMM#\", MMM)\r\n    .replace(\"#MM#\", MM)\r\n    .replace(\"#M#\", M)\r\n    .replace(\"#DDDD#\", DDDD)\r\n    .replace(\"#DDD#\", DDD)\r\n    .replace(\"#DD#\", DD)\r\n    .replace(\"#D#\", D)\r\n    .replace(\"#th#\", th);\r\n  h = hhh = this.getHours();\r\n  if (h == 0) h = 24;\r\n  if (h > 12) h -= 12;\r\n  hh = h < 10 ? \"0\" + h : h;\r\n  hhhh = hhh < 10 ? \"0\" + hhh : hhh;\r\n  AMPM = (ampm = hhh < 12 ? \"am\" : \"pm\").toUpperCase();\r\n  mm = (m = this.getMinutes()) < 10 ? \"0\" + m : m;\r\n  ss = (s = this.getSeconds()) < 10 ? \"0\" + s : s;\r\n  return formatString\r\n    .replace(\"#hhhh#\", hhhh)\r\n    .replace(\"#hhh#\", hhh)\r\n    .replace(\"#hh#\", hh)\r\n    .replace(\"#h#\", h)\r\n    .replace(\"#mm#\", mm)\r\n    .replace(\"#m#\", m)\r\n    .replace(\"#ss#\", ss)\r\n    .replace(\"#s#\", s)\r\n    .replace(\"#ampm#\", ampm)\r\n    .replace(\"#AMPM#\", AMPM);\r\n};\r\n"],"names":["CargarLocalStorage","sColorPrincipal","localStorage","getItem","sColorSecundario","bLogueado","us","usuario","JSON","parse","Desencriptar","token","sToken","iMaxGuardados","GuardarMarcadores","marcadores","forEach","element","PutOpcionesUsuario","usuarioId","ObtenerMarcadores","GetOpcionesUsuario","id","then","res","aGuardados","find","e","codigoBaliza","codigo","findIndex","ActualizarDatos","log","GetTiempo","data","oTiempo","ActualizarCarta","prototype","customFormat","formatString","YYYY","YY","MMMM","MMM","MM","M","DDDD","DDD","DD","D","hhhh","hhh","hh","h","mm","m","ss","s","ampm","AMPM","dMod","th","this","getFullYear","slice","getMonth","substring","getDate","getDay","replace","getHours","toUpperCase","getMinutes","getSeconds"],"version":3,"file":"index.b56d183f.js.map"}